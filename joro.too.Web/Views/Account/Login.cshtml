@using joro.too.Entities
@using Microsoft.AspNetCore.Identity
@using Microsoft.AspNetCore.Mvc.TagHelpers
@model LoginViewModel

@inject SignInManager<IdentityUser> SignInManager
@inject UserManager<IdentityUser> UserManager


<h2>Login</h2>
@if (SignInManager.IsSignedIn(User))
{
    <li class="nav-item">
        <form id="logoutForm" class="form-inline" asp-controller="Account" asp-action="Logout">
            <button id="logout" type="submit" class="nav-link btn btn-link text-dark border-0">Logout</button>
        </form>
    </li>
}
else
{
    <form asp-action="Login" method="post">
        <div>
            <label asp-for="UserName"></label>
            <input asp-for="UserName"/>
        </div>
        <div>
            <label asp-for="Email"></label>
            <input asp-for="Email"/>
        </div>
        <div>
            <label asp-for="Password"></label>
            <input asp-for="Password" type="password"/>
        </div>
        <div>
            <label asp-for="RememberMe"></label>
            <input asp-for="RememberMe" type="checkbox"/>
        </div>
        <button type="submit">Login</button>
    </form>
    
    <a asp-action="Register" asp-controller="Account">Don't Have An Account?</a>
}