@using joro.too.Entities
@using Microsoft.AspNetCore.Mvc.TagHelpers
@model EditShowModel
@if (!User.IsInRole("Admin"))
{
    <h1 class="text-center textoutline">
        Hiya, instead of trying to put your nose where it does'nt belong, why don't you instead enjoy some of the media in our fine collection hm?

    </h1>
    <p class="text-center textoutline">
        <a asp-action="SearchResult" asp-controller="Search">Go back and don't waste your time here</a>
    </p>
}
else
{
    <link rel="stylesheet" href="~/css/Searchbar.css" asp-append-version="true"/>
    <form method="post" enctype="multipart/form-data" asp-action="EditShow" asp-controller="Admin" asp-route-model="22">

        <input name="Id" id="Id" asp-for="Id" type="hidden">
        <div>
            Name
            <input name="name" id="name" asp-for="Name" type="text">
        </div>
        <div>
            Description
            <input name="desc" id="desc" asp-for="Description" type="text">
        </div>
        <div style="float: right">
            Upload image
            <input type="file" id="img" name="img" accept="image/*">
        </div>

        <div>
            @foreach (var item in Model.Genres)
            {
                <input name="genres" id="@item.Value" value="@item.Value" type="checkbox" checked="@item.Selected">
                @item.Text
            }
        </div>
        <div>
            <ol id="SeasonList" style="display: flex; flex-wrap: wrap; list-style-type: none; float: unset">
                @for (int i = 0; i < @Model.SeasonNames.Count; i++)
                {
                    <li class="season">
                        <div class="form-container helper">
                            <div class="input-group">
                                @Model.SeasonNames[i]
                                <a asp-action="EditSeason" asp-route-sId="@Model.SeasonIds[i]" class="buttons btn btn-warning">Edit Season</a>
                                <a asp-action="RemoveSeason" asp-route-id="@Model.SeasonIds[i]" asp-route-showId="@Model.Id" class="buttons btn btn-danger">Remove Season</a>
                                @for (int j = 0; j < @Model.Episodes[i].Count; j++)
                                {

                                    <p>Episode @j</p>

                                    @Model.Episodes[i][j].name
                                }
                            </div>
                        </div>
                    </li>
                }
            </ol>
        </div>

        <div>
            <button id="AddSeasonBtn">
                Add Seaskon
            </button>
        </div>

        <input type="submit" class="btn" value="hui">
    </form>

    <script src="~/js/AddShowScript.js" asp-append-version="true" type="module"></script>
}